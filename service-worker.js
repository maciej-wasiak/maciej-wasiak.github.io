var VERSION="24";function fetchFromNetworkAndCache(e){if("only-if-cached"!==e.request.cache||"same-origin"===e.request.mode)return fetch(e.request).then(t=>t.url?new URL(t.url).origin!==location.origin?t:caches.open(VERSION).then(n=>(n.put(e.request,t.clone()),t)):t).catch(t=>console.error(e.request.url,t))}function handleNoCacheMatch(e){return fetchFromNetworkAndCache(e)}this.addEventListener("install",(function(e){e.waitUntil(caches.open(VERSION).then(e=>e.addAll([])))})),this.addEventListener("fetch",(function(e){var t=caches.open(VERSION).then(t=>t.match(e.request).then(t=>t?(fetchFromNetworkAndCache(e),t):handleNoCacheMatch(e)));e.respondWith(t)})),this.addEventListener("activate",(function(e){e.waitUntil(caches.keys().then(e=>Promise.all(e.map(e=>{if(e!==VERSION)return caches.delete(e)}))))}));